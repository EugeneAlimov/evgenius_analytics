"use strict";(self.webpackChunkinterface=self.webpackChunkinterface||[]).push([[323],{5098:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(1413),r=t(885),i=t(2791),o=t(9434),s=t(1319),c=t(4997),l=t(7689),d=t(5814),u=t(3811),f=t(4565),h=t(7205),x=t(8823),Z=t(1048),p=t(9978),m=t(6132),v=t(5629),g=t(6650),j=t(9161),b=t(788),w=t(7323),y=t(8440),S=t(9571),C=t(464),k=t(2797),D=t(4142),L=t(3329),M=function(e){var n=e.buttonStyle,t=i.useState(!1),o=(0,r.Z)(t,2),s=o[0],c=o[1],l=(0,D.Z)(),d=(0,k.Z)(l.breakpoints.down("md")),u=function(){c(!1)};return(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,L.jsx)(h.Z,{sx:(0,a.Z)({},n),variant:"contained",color:"warning",size:"large",onClick:function(){c(!0)},children:"Change user dataset"}),(0,L.jsxs)(b.Z,{fullScreen:d,open:s,onClose:u,"aria-labelledby":"responsive-dialog-title",children:[(0,L.jsx)(C.Z,{id:"responsive-dialog-title",children:"Use Google's location service?"}),(0,L.jsx)(y.Z,{children:(0,L.jsx)(S.Z,{children:"Let Google help apps determine location. This means sending anonymous location data to Google, even when no apps are running."})}),(0,L.jsxs)(w.Z,{children:[(0,L.jsx)(h.Z,{autoFocus:!0,onClick:u,children:"Disagree"}),(0,L.jsx)(h.Z,{onClick:u,autoFocus:!0,children:"Agree"})]})]})]})},_=(0,t(3814).Z)(),z=function(){var e=(0,o.v9)((function(e){return e.login.token.refresh})),n=(0,o.v9)((function(e){return e.login.userDatasets})),t=(0,o.I0)(),b=(0,l.s0)(),w=(0,i.useState)([]),y=(0,r.Z)(w,2),S=y[0],C=y[1],k=(0,i.useState)([]),D=(0,r.Z)(k,2),z=D[0],R=D[1],P=(0,i.useState)([]),T=(0,r.Z)(P,2),A=T[0],N=T[1],E=(0,i.useState)([]),H=(0,r.Z)(E,2),F=H[0],G=H[1],I=(0,i.useState)([]),U=(0,r.Z)(I,2),V=U[0],q=U[1],O=(0,i.useState)([]),Q=(0,r.Z)(O,2),W=Q[0],B=Q[1],J=(0,i.useState)(!0),K=(0,r.Z)(J,2),X=K[0],Y=K[1],$=(0,i.useState)(!0),ee=(0,r.Z)($,2),ne=ee[0],te=ee[1],ae=(0,i.useState)(),re=(0,r.Z)(ae,2),ie=(re[0],re[1]),oe=(0,i.useState)(),se=(0,r.Z)(oe,2),ce=(se[0],se[1]),le={width:"22%",height:"90vh",marginLeft:"30px",mt:"10px"},de={mt:"20px",mx:"10px",boxShadow:5,height:"calc(90vh - 93px)",borderRadius:"3px"},ue={marginLeft:"auto",marginRight:"auto",width:"90%",height:"50px",mt:"20px",mb:"20px"};(0,i.useEffect)((function(){(0,s.qn)(e).then((function(e){t((0,c.D)(e)),t((0,s.se)(e))})).catch((function(){t((0,s.kS)(e)),b("/analytics",{replace:!0})}))}),[b,t,e]),(0,i.useEffect)((function(){if(n){var e=n.filter((function(e){return!0===e.is_historical})),t=n.filter((function(e){return!1===e.is_historical}));C(e),R(t),N(Array.from(e,(function(){return!1}))),G(Array.from(t,(function(){return!1})))}}),[n]),(0,i.useEffect)((function(){S.length&&ie(S[0].dataset_image)}),[S]),(0,i.useEffect)((function(){z.length&&ce(z[0].dataset_image)}),[z]);var fe=function(e){return function(){ie(S[e].dataset_image);var n=new Array(S.length).fill("");n[e]="#1976d2",q(n)}},he=function(e){return function(){ce(z[e].dataset_image);var n=new Array(z.length).fill("");n[e]="#1976d2",B(n)}};return(0,L.jsxs)(_,{sx:{paddingLeft:"15px",paddingRight:"15px",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start"},children:[(0,L.jsxs)(g.Z,{sx:(0,a.Z)({},le),children:[(0,L.jsx)("h2",{style:{marginLeft:30},children:"Historical"}),(0,L.jsx)(v.Z,{sx:(0,a.Z)({},de),children:S.map((function(e,n){var t,a="checkbox-list-label-".concat(e.id),r=e.date_time_start_diapason,i=e.date_time_end_diapason,o=e.created,s=e.updated,c=e.tag,l=new Date(r).toLocaleString(),h=new Date(i).toLocaleString(),v=new Date(o).toLocaleString(),g=new Date(s).toLocaleString();return(0,L.jsxs)(m.ZP,{disablePadding:!0,children:[(0,L.jsx)(x.Z,{onClick:(t=n,function(){var e=A.map((function(e,n){return n===t?!e:e}));N(e)}),checked:A[n],disabled:ne,inputProps:{"aria-labelledby":a}}),(0,L.jsx)(p.Z,{role:void 0,onClick:fe(n),dense:!0,children:(0,L.jsx)(Z.Z,{sx:{color:"".concat(V[n])},id:a,primary:e.name})}),(0,L.jsx)(d.Z,{placement:"right",title:(0,L.jsxs)(f.Z,{paragraph:!0,children:["start diapason: ",l," ",(0,L.jsx)("br",{}),"end diapason: ",h," ",(0,L.jsx)("br",{}),"created: ",v," ",(0,L.jsx)("br",{}),"updated: ",g," ",(0,L.jsx)("br",{}),c.map((function(e){return(0,L.jsxs)("li",{children:["tag: ",e]},e)}))]}),children:(0,L.jsx)(u.Z,{"aria-label":"comments",children:(0,L.jsx)(j.Z,{})})})]},e.id)}))})]}),(0,L.jsxs)(g.Z,{sx:(0,a.Z)({},le),children:[(0,L.jsx)("h2",{style:{marginLeft:30},children:"Realtime"}),(0,L.jsx)(v.Z,{sx:(0,a.Z)({},de),children:z.map((function(e,n){var t,a="checkbox-list-label-".concat(e.id),r=e.date_time_start_diapason,i=e.date_time_end_diapason,o=e.created,s=e.updated,c=new Date(r).toLocaleString(),l=new Date(i).toLocaleString(),h=new Date(o).toLocaleString(),v=new Date(s).toLocaleString();return(0,L.jsxs)(m.ZP,{disablePadding:!0,children:[(0,L.jsx)(x.Z,{onClick:(t=n,function(){var e=F.map((function(e,n){return n===t?!e:e}));G(e)}),checked:F[n],inputProps:{"aria-labelledby":a},disabled:ne}),(0,L.jsx)(p.Z,{role:void 0,onClick:he(n),dense:!0,children:(0,L.jsx)(Z.Z,{sx:{color:"".concat(W[n])},id:a,primary:e.name})}),(0,L.jsx)(d.Z,{placement:"right",title:(0,L.jsxs)(f.Z,{paragraph:!0,children:["start diapason: ",c," ",(0,L.jsx)("br",{})," end diapason: ",l," ",(0,L.jsx)("br",{})," created:"," ",h," ",(0,L.jsx)("br",{})," updated: ",v]}),children:(0,L.jsx)(u.Z,{"aria-label":"comments",children:(0,L.jsx)(j.Z,{})})})]},e.id)}))})]}),(0,L.jsxs)(g.Z,{sx:(0,a.Z)({},le),children:[(0,L.jsx)("h2",{style:{marginLeft:30},children:"Actions"}),(0,L.jsxs)(_,{sx:{display:"flex",flexDirection:"column"},children:[(0,L.jsx)(M,{buttonStyle:ue}),(0,L.jsx)(h.Z,{sx:(0,a.Z)({},ue),color:"secondary",variant:"contained",size:"large",onClick:function(){Y(!X)},children:"Change user dataset"}),(0,L.jsx)(h.Z,{sx:(0,a.Z)({},ue),color:"success",variant:"contained",size:"large",disabled:X,children:"Rename dataset"}),(0,L.jsx)(h.Z,{sx:(0,a.Z)((0,a.Z)({},ue),{},{backgroundColor:"#515962","&:hover":{backgroundColor:"#393c40"}}),variant:"contained",size:"large",disabled:X,onClick:function(){if(!ne){var e=A.map((function(){return!1}));N(e)}te(!ne)},children:"Delete dataset"}),(0,L.jsx)(h.Z,{sx:(0,a.Z)({},ue),color:"warning",variant:"contained",size:"large",disabled:X,children:"Cancel"}),(0,L.jsx)(h.Z,{sx:(0,a.Z)({},ue),color:"error",variant:"contained",size:"large",disabled:X,children:"Confirm"}),(0,L.jsx)(h.Z,{sx:(0,a.Z)({},ue),color:"info",variant:"contained",size:"large",children:"Show selected dataset"})]})]})]})}},9161:function(e,n,t){var a=t(4836);n.Z=void 0;var r=a(t(5649)),i=t(3329),o=(0,r.default)((0,i.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");n.Z=o},9571:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(3366),r=t(7462),i=t(2791),o=t(8182),s=t(4419),c=t(277),l=t(5513),d=t(4565),u=t(5878),f=t(1217);function h(e){return(0,f.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var x=t(3329),Z=["children","className"],p=(0,c.ZP)(d.Z,{shouldForwardProp:function(e){return(0,c.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),m=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogContentText"}),i=t.className,c=(0,a.Z)(t,Z),d=function(e){var n=e.classes,t=(0,s.Z)({root:["root"]},h,n);return(0,r.Z)({},n,t)}(c);return(0,x.jsx)(p,(0,r.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:c,className:(0,o.Z)(d.root,i)},t,{classes:d}))}))},464:function(e,n,t){var a=t(7462),r=t(3366),i=t(2791),o=t(8182),s=t(4419),c=t(4565),l=t(277),d=t(5513),u=t(5186),f=t(3053),h=t(3329),x=["className","id"],Z=(0,l.ZP)(c.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),p=i.forwardRef((function(e,n){var t=(0,d.Z)({props:e,name:"MuiDialogTitle"}),c=t.className,l=t.id,p=(0,r.Z)(t,x),m=t,v=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},u.a,n)}(m),g=i.useContext(f.Z).titleId,j=void 0===g?l:g;return(0,h.jsx)(Z,(0,a.Z)({component:"h2",className:(0,o.Z)(v.root,c),ownerState:m,ref:n,variant:"h6",id:j},p))}));n.Z=p},2797:function(e,n,t){var a;t.d(n,{Z:function(){return f}});var r=t(885),i=t(2791),o=t(7301),s=t(3073),c=t(3026);function l(e,n,t,a,o){var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=i.useState((function(){return o&&s?t(e).matches:a?a(e).matches:n})),d=(0,r.Z)(l,2),u=d[0],f=d[1];return(0,c.Z)((function(){var n=!0;if(s){var a=t(e),r=function(){n&&f(a.matches)};return r(),a.addListener(r),function(){n=!1,a.removeListener(r)}}}),[e,t,s]),u}var d=(a||(a=t.t(i,2))).useSyncExternalStore;function u(e,n,t,a){var o=i.useCallback((function(){return n}),[n]),s=i.useMemo((function(){if(null!==a){var n=a(e).matches;return function(){return n}}return o}),[o,e,a]),c=i.useMemo((function(){if(null===t)return[o,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[o,t,e]),l=(0,r.Z)(c,2),u=l[0],f=l[1];return d(f,u,s)}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,o.Z)(),a="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,r=(0,s.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),i=r.defaultMatches,c=void 0!==i&&i,f=r.matchMedia,h=void 0===f?a?window.matchMedia:null:f,x=r.ssrMatchMedia,Z=void 0===x?null:x,p=r.noSsr;var m="function"===typeof e?e(t):e;m=m.replace(/^@media( ?)/m,"");var v=void 0!==d?u:l,g=v(m,c,h,Z,p);return g}}}]);
//# sourceMappingURL=User.8e81eb4b.chunk.js.map